* { box-sizing: border-box; }
html, body { height: 100%; }
@font-face {
  font-family: 'peepo';
  src: url('peepo.ttf') format('truetype');
  font-display: swap;
}

body {
  margin: 0;
  font-family: 'peepo', 'Noto Sans KR', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple SD Gothic Neo', sans-serif;
  background: #e4c39c;
  color: #111111;
}

#app { height: 100%; display: grid; place-items: center; }

.scene { display: none; text-align: center; padding: 24px; width: 100%; max-width: 1100px; }
.scene.active { display: block; }

.title { font-size: 64px; margin: 16px 0 24px; letter-spacing: 6px; }
.western { font-family: 'Rye', 'peepo', serif; letter-spacing: 2px; }
.center-text.western { font-family: 'Rye', serif; }
.primary {
  background: #e53935; color: white; border: none; padding: 12px 20px; border-radius: 8px; font-size: 18px; cursor: pointer;
}
.primary:hover { filter: brightness(1.05); }

.hint { opacity: 0.7; margin-top: 10px; }

.players-preview { display: flex; gap: 32px; justify-content: center; align-items: center; margin-bottom: 16px; }
.players-preview img { height: 160px; image-rendering: auto; }
.players-preview img:last-child { transform: scaleX(-1); transform-origin: center; }
.char { image-rendering: auto; }

.menu { list-style: none; padding: 0; margin: 0 auto; width: 320px; }
.menu li { padding: 12px 16px; border: 1px solid #dddddd; margin-bottom: 8px; border-radius: 8px; background: #ffffff; }
.menu li.selected { background: #2e7d32; border-color: #2e7d32; }

#scoreboard, .scoreboard { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 24px; margin-bottom: 8px; font-size: 20px; position: relative; z-index: 1; }
.score.p1 { text-align: left; }
.score.p2 { text-align: right; }
.target { opacity: 0.85; }

#scene-game { position: relative; }
#arena, .arena { display: grid; grid-template-columns: 1fr 320px 1fr; gap: 16px; align-items: end; width: 100%; position: relative; z-index: 1; margin: 0 auto 8px; max-width: 1100px; }
.player { position: relative; height: 380px; display: grid; place-items: end center; }
.player img { max-height: 360px; height: auto; image-rendering: auto; }
/* crown icons removed */
#img-p2 { transform: scaleX(-1); transform-origin: center; }
/* Flip P2 on title/mode scenes as well */
.arena .player.right .char { transform: scaleX(-1); transform-origin: center; }
.center { height: 380px; display: grid; place-items: center; }
.center img { max-height: 160px; height: auto; image-rendering: auto; }
.center-text { font-size: 48px; letter-spacing: 2px; opacity: 0.9; font-weight: 800; }

.hidden { display: none; }

#miss-overlay { position: absolute; inset: -15% -10% -15% -10%; pointer-events: none; z-index: 0; }
.miss-dot { position: absolute; width: 40px; height: 40px; border-radius: 50%; display: grid; place-items: center; background: rgba(0,0,0,0.06); border: 2px dashed #ff5252; color: #ff5252; font-weight: bold; transform: rotate(var(--rot, 0deg)); }

/* Blood marks: use scene-level overlay, never affect layout */
.player img { position: relative; z-index: 1; }
.blood-dot { position: absolute; width: 50px; height: 50px; transform: translate(-50%, -50%) scale(0.75); opacity: 0.9; pointer-events: none; z-index: 0; }

/* Tumbleweed: appear inside, slide some distance, then fade */
/* ambient weed removed */

.results { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
.player-result { background: #f7f7f7; padding: 16px; border-radius: 12px; border: 1px solid #e5e5e5; }

@media (max-width: 980px) {
  #arena { grid-template-columns: 1fr; }
  .center { order: -1; }
}


/* ===== Enhanced UI (cards, chips, header, animations) ===== */
:root {
  --bg: #ffffff;
  --text: #111111;
  --muted: #6b7280;
  --surface: #f7f7f7;
  --surface-strong: #ffffff;
  --border: #e5e7eb;
  --primary: #111827;
  --accent: #e11d48; /* bang color */
  --shadow: 0 6px 20px rgba(0,0,0,0.08);
}

#topbar, #topbar .brand { display: none; }

/* Container spacing update */
#app { height: 100%; display: grid; place-items: center; padding: 24px; }

.card { background: var(--surface-strong); border: 1px solid var(--border); border-radius: 16px; padding: 24px; box-shadow: var(--shadow); margin: 0 auto; }
.card.narrow { max-width: 520px; }

.primary { background: var(--primary); color: #fff; border: none; padding: 12px 20px; border-radius: 12px; font-size: 18px; cursor: pointer; }
.primary:hover { filter: brightness(1.05); }

.controls { margin-top: 10px; color: var(--muted); display: flex; gap: 10px; justify-content: center; align-items: center; flex-wrap: wrap; }
.kbd { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; padding: 2px 8px; border: 1px solid var(--border); border-bottom-width: 3px; border-radius: 8px; background: var(--surface); color: var(--text); font-size: 14px; }

/* Menu polish */
.menu { list-style: none; padding: 0; margin: 0 auto; width: 100%; max-width: 380px; }
.menu li { padding: 14px 16px; border: 1px solid var(--border); margin: 10px 0; border-radius: 12px; background: #ffffff; display: flex; justify-content: space-between; align-items: center; box-shadow: var(--shadow); width: 100%; }
.menu li.selected { background: #8b5e34; border-color: #8b5e34; color: #ffffff; }

/* Scoreboard chips */
#scoreboard { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 24px; margin-bottom: 8px; font-size: 20px; }
.score.p1 { text-align: left; }
.score.p2 { text-align: right; }
.target { opacity: 0.85; }

/* Arena simple */
#arena { grid-template-columns: 1fr 320px 1fr; }
.player { background: transparent; border: none; box-shadow: none; height: 200px; }
.player img { height: 160px; }
.center { background: transparent; border: none; box-shadow: none; height: 200px; }
.center-text { font-size: 56px; font-weight: 900; color: var(--accent); letter-spacing: 2px; font-family: 'Rye', 'peepo', serif; }
.center-text.announce { color: var(--primary); animation: pop 480ms ease; }
.center-text.bang-sign { color: #ff0000; }
/* BANG only: add subtle shake along with pop */
.center-text.announce.bang-sign { animation: pop 480ms ease, bang-shake 600ms ease-in-out; }

@keyframes bang-shake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-2px); }
  40% { transform: translateX(2px); }
  60% { transform: translateX(-1.5px); }
  80% { transform: translateX(1px); }
}
.center-text.bang { color: var(--accent); animation: pulse 900ms ease-in-out infinite; }

@keyframes pop {
  0% { transform: translateY(6px) scale(0.9); opacity: 0; }
  60% { transform: translateY(0) scale(1.02); opacity: 1; }
  100% { transform: translateY(0) scale(1); opacity: 1; }
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.06); }
  100% { transform: scale(1); }
}


